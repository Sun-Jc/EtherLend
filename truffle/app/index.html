<!DOCTYPE html>
<html>
<head>
  <title>MetaCoin - Default Truffle App</title>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link href="./app.css" rel='stylesheet' type='text/css'>
  <script src="./app.js"></script>
  <script src="https://raw.githubusercontent.com/ethereum/web3.js/develop/dist/web3.min.js"></script>
</head>
<body>
  <h1>MetaCoin</h1>
  <h2>Example Truffle Dapp</h2>
  <h3>You have <span class="black"><span id="balance"></span> META</span></h3>

  <br>
  <h1>Send</h1>
  <br><label for="amount">Amount:</label><input type="text" id="amount" placeholder="e.g., 95"></input>
  <br><label for="receiver">To Address:</label><input type="text" id="receiver" placeholder="e.g., 0x93e66d9baea28c17d9fc393b53e3fbdd76899dae"></input>
  <br><br><button id="send" onclick="sendCoin()">Send MetaCoin</button>
  <br><br>
  <span id="status"></span>

  <script>console.log('hi, there')</script>

  <script>
    var Web3 = require('web3');
    var web3 = new Web3();
    
    var provider = 'http://taoli.tsinghuax.org:8545'
    web3.setProvider(new web3.providers.HttpProvider(provider));
    //var TestRPC = require("ethereumjs-testrpc");
    //web3.setProvider(TestRPC.provider());
    var meta = MetaCoin.deployed();
    var account_one = web3.eth.accounts[0];

    var balance = web3.eth.getBalance(account_one);
    console.log(balance.toNumber());

    /*
    meta.getBalance.call(account_one, {from: account_one}).then(function(balance) {
      // If this callback is called, the call was successfully executed.
      // Note that this returns immediately without any waiting.
      // Let's print the return value.
      console.log(balance.toNumber());
    }).catch(function(e) {
      // There was an error! Handle it.
    })*/
  </script>
</body>
</html>
